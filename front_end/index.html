<html>
    <head>
      <link rel="stylesheet" type="text/css" href="./styles/importedStyles.css" />
    </head>

    <body>
        <div id="page" style="width:100%;height:100%;position:fixed;top:0;left:0;"></div>
    </body>

    <script src="./javascript/require-config.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/require.js/2.3.2/require.min.js"></script>

    <script>

    require(['director', 'components', 'loader'], function () {
      var loginPage = function () {
        require(['config', 'onboarding'], function () {
          loadComponent("OnboardingFrontPage", $("#page"), function () {
            new Onboarding($('#page').find('.onboarding-page'));
          });
        });
      };

      var onboardingCoursesPage = function(courses) {
        loadComponent("OnboardingCoursesModule", $("#page"), function () {
            require(['course-selection'], function () {
            new OnboardingCourses([], $("#page").find(".course-table"));
          });
        });
      }


        var video = function(){
            loadComponent("VideoModule", $("#page"), function () {
                require(['video-wrapper'], function(){
                    new videoClass({
                        source: "https://podcast.ucsd.edu/Podcasts/cse100_wi17/cse100_wi17-02082017-0900.mp4",
                        time: 35 
                    }, $("#page").find(".videowrapper"));
                });
                
                
            });
        };
        
      var podcast = function (podcastId) { 
        loadComponent("PodcastModule", $("#page"), function () {
          require(['podcast'], function () {
            new PodcastPage(podcastId, $("#page").find(".podcast-page-div"));
          });
        });
      };

      var search = function (courseId) {
        loadComponent("CourseSearchModule", $("#page"), function () {
          require(['searchResults'], function () {
            new SearchPage(123, $("#page").find(".search-results-div"));
            console.log($("#page"));
          });
        });
      };

      var courseHomepage = function() {
        loadComponent("CourseHomepageModule", $("#page"), function() {
          require(['course-homepage'], function() {
            new CourseHomepageClass(1, $("#page").find(".course-homepage-div"));
          });
        });
      }

      var routes = {
        '/podcast/:podcastId': podcast,
        '/search/:courseId': search,
        '/video': video,
        '/': loginPage,
        '': loginPage,
        '/course_homepage/:courseId': courseHomepage,
        '/courses': onboardingCoursesPage
      };

      var router = Router(routes);

      // Scripts above are required on every single page
      console.log($("#page"));

      loadComponent("LoaderModule", $("#page"), function () {
        setTimeout(function () {
          router.init();
        }, 500);
      });
    });
    </script>
</html>
